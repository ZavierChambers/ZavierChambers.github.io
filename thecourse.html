<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>[Course Name] ‚Äî Step 1: Getting Started</title>
  <meta name="description" content="Lesson template styled like Microsoft Learn: sidebar TOC, breadcrumb, callouts, right rail in-page navigation." />
  <style>
    :root{
      --bg: #ffffff;
      --fg: #1a1a1a;
      --muted: #6b7280;
      --accent: #2563eb;
      --border: #e5e7eb;
      --surface: #f8fafc;
      --callout-tip: #ecfdf5;
      --callout-note: #eff6ff;
      --callout-warn: #fff7ed;
      --code-bg: #0b1020;
      --code-fg: #e5e7eb;
      --badge-free: #10b981;
      --badge-paid: #f59e0b;
      --shadow: 0 1px 2px rgba(0,0,0,.06), 0 1px 3px rgba(0,0,0,.1);
      --radius: 12px;
      --toc-w: 270px;
      --rail-w: 250px;
      --maxw: 1100px;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg: #0b0f14;
        --fg: #e5e7eb;
        --muted: #9aa4b2;
        --accent: #60a5fa;
        --border: #1f2937;
        --surface: #0f1720;
        --callout-tip: #062c23;
        --callout-note: #0b2347;
        --callout-warn: #2b1905;
        --code-bg: #0a0f1a;
        --code-fg: #e5e7eb;
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color:var(--fg); background:var(--bg);
    }

    /* Top header */
    .site-header{
      position:sticky; top:0; z-index:1000; background:var(--surface); border-bottom:1px solid var(--border);
      display:flex; align-items:center; gap:.75rem; padding:.75rem 1rem;
      backdrop-filter:saturate(1.2) blur(6px);
    }
    .brand{font-weight:700}
    .spacer{flex:1}
    .theme-toggle, .menu-toggle{
      border:1px solid var(--border); background:transparent; color:var(--fg);
      border-radius:10px; padding:.45rem .7rem; cursor:pointer;
    }

    /* Layout */
    .shell{display:grid; grid-template-columns: var(--toc-w) 1fr var(--rail-w); gap:2rem; width:100%; max-width: calc(var(--maxw) + var(--toc-w) + var(--rail-w) + 4rem); margin:0 auto; padding:1rem 1rem 4rem}
    @media (max-width: 1200px){
      .shell{grid-template-columns: 1fr var(--rail-w); max-width: calc(var(--maxw) + var(--rail-w) + 3rem)}
      .sidebar{display:none}
    }
    @media (max-width: 960px){
      .shell{grid-template-columns: 1fr}
      .rail{display:none}
    }

    /* Breadcrumb */
    nav.breadcrumb{
      font-size:.9rem; color:var(--muted); margin:1rem 0 .5rem;
      display:flex; gap:.5rem; flex-wrap:wrap;
    }
    nav.breadcrumb a{color:inherit; text-decoration:none}
    nav.breadcrumb a:hover{ text-decoration:underline }
    .sep{opacity:.5}

    /* Sidebar TOC */
    .sidebar{
      position:sticky; top:56px; align-self:start; height:calc(100vh - 56px); overflow:auto; padding-right:.5rem;
      border-right:1px solid var(--border);
    }
    .toc-title{font-weight:700; margin:.5rem 0 1rem 0; padding-right:.5rem}
    .toc ul{list-style:none; padding:0; margin:0}
    .toc li{margin:.2rem 0}
    .toc a{
      display:block; padding:.35rem .5rem; border-radius:8px; color:var(--fg); text-decoration:none;
    }
    .toc a:hover{background:var(--surface)}
    .toc .active{background:var(--surface); border-left:3px solid var(--accent); padding-left:.4rem}

    /* Main */
    .main{
      min-width:0; /* prevents overflow */
    }
    .title-row{display:flex; align-items:flex-start; gap:.75rem; flex-wrap:wrap}
    h1{margin:.2rem 0 .5rem 0; line-height:1.2}
    .badge{
      display:inline-flex; align-items:center; gap:.4rem; font-size:.8rem; font-weight:600; padding:.2rem .5rem; border-radius:999px; color:#0b0b0b;
      background:linear-gradient(0deg, rgba(255,255,255,.7), rgba(255,255,255,.9));
      border:1px solid var(--border); box-shadow:var(--shadow)
    }
    .badge.free{background: var(--badge-free)}
    .badge.paid{background: var(--badge-paid)}
    .meta{color:var(--muted); font-size:.9rem; margin:.2rem 0 1rem}

    /* Callouts */
    .callout{
      border:1px solid var(--border); border-left:4px solid var(--accent); background:var(--surface);
      padding:1rem; border-radius:var(--radius); margin:1rem 0; box-shadow:var(--shadow)
    }
    .callout.tip{ background:var(--callout-tip) }
    .callout.note{ background:var(--callout-note) }
    .callout.warn{ background:var(--callout-warn); border-left-color:#f97316 }

    /* Content */
    .main img{max-width:100%; height:auto; border-radius:10px; border:1px solid var(--border)}
    .step{margin:2rem 0}
    .step > h2{margin:.2rem 0 .25rem; line-height:1.25}
    .step > p{margin:.5rem 0}
    pre{background:var(--code-bg); color:var(--code-fg); padding:1rem; border-radius:10px; overflow:auto; border:1px solid #111827}
    code{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:.95em}

    /* Right rail */
    .rail{
      position:sticky; top:56px; align-self:start; height:calc(100vh - 56px); overflow:auto;
      border-left:1px solid var(--border); padding-left:.75rem;
    }
    .rail h3{margin:.75rem 0 .25rem}
    .onpage{font-size:.95rem}
    .onpage ul{list-style:none; padding:0; margin:0}
    .onpage a{display:block; padding:.25rem 0; text-decoration:none; color:var(--muted)}
    .onpage a:hover{color:var(--fg)}

    /* Prev/Next Nav + feedback */
    .lesson-nav{
      display:flex; flex-wrap:wrap; gap:1rem; justify-content:space-between; border-top:1px solid var(--border); margin-top:2.5rem; padding-top:1rem
    }
    .btn{
      display:inline-flex; gap:.5rem; align-items:center; text-decoration:none; border:1px solid var(--border);
      padding:.6rem .9rem; border-radius:10px; color:var(--fg); background:var(--surface); box-shadow:var(--shadow)
    }
    .btn:hover{border-color:var(--accent)}
    .feedback{display:flex; gap:.5rem; align-items:center; color:var(--muted)}
    .feedback button{border:1px solid var(--border); background:transparent; color:var(--fg); border-radius:10px; padding:.4rem .6rem; cursor:pointer}
    .feedback button:hover{border-color:var(--accent)}
    .sr-only{position:absolute !important; height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}

    /* Mobile slide-in menu */
    .mobile-drawer{
      position:fixed; inset:0; display:none; z-index:1200; background:rgba(0,0,0,.25);
    }
    .mobile-panel{
      position:absolute; top:0; left:0; width:min(86vw, 340px); height:100%; background:var(--bg); border-right:1px solid var(--border);
      padding:1rem; overflow:auto; box-shadow:var(--shadow)
    }
    .mobile-drawer.open{display:block}
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <button id="menuBtn" class="menu-toggle" aria-label="Open course menu">‚ò∞ Menu</button>
    <div class="brand">YourBrand ‚Ä¢ Courses</div>
    <div class="spacer"></div>
    <button id="themeBtn" class="theme-toggle" aria-pressed="false" aria-label="Toggle theme">üåì Theme</button>
  </header>

  <!-- Mobile drawer for TOC -->
  <div id="drawer" class="mobile-drawer" aria-hidden="true">
    <div class="mobile-panel" role="dialog" aria-modal="true" aria-labelledby="tocDialogTitle">
      <h2 id="tocDialogTitle" class="toc-title">Course Outline</h2>
      <nav class="toc" aria-label="Course outline (mobile)">
        <ul>
          <li><a href="course-overview.html">Overview</a></li>
          <li><a class="active" href="#step-1">Step 1 ‚Ä¢ Create Project</a></li>
          <li><a href="#step-2">Step 2 ‚Ä¢ Build & Run</a></li>
          <li><a href="#step-3">Step 3 ‚Ä¢ Next Steps</a></li>
        </ul>
      </nav>
      <p><button id="closeDrawer" class="btn" style="margin-top:1rem">Close</button></p>
    </div>
  </div>

  <div class="shell">
    <!-- LEFT: Sidebar TOC -->
    <aside class="sidebar" aria-label="Course outline">
      <div class="toc-title">Course Outline</div>
      <nav class="toc">
        <ul>
          <li><a href="course-overview.html">Overview</a></li>
          <li><a class="active" href="#step-1">Step 1 ‚Ä¢ Create Project</a></li>
          <li><a href="#step-2">Step 2 ‚Ä¢ Build &amp; Run</a></li>
          <li><a href="#step-3">Step 3 ‚Ä¢ Next Steps</a></li>
        </ul>
      </nav>
    </aside>

    <!-- CENTER: Main content -->
    <main class="main" id="main" role="main">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="/">Home</a><span class="sep">‚Ä∫</span>
        <a href="/courses">Courses</a><span class="sep">‚Ä∫</span>
        <a href="/courses/cpp">C++ Essentials</a><span class="sep">‚Ä∫</span>
        <span aria-current="page">Step 1: Create Project</span>
      </nav>

      <div class="title-row">
        <h1>Step 1: Create your console app project</h1>
        <span class="badge free" title="This lesson is free">FREE</span>
        <!-- Use .paid for paid items -->
      </div>
      <div class="meta">10 min ‚Ä¢ Beginner ‚Ä¢ Last updated: Aug 2025</div>

      <div class="callout note" role="note">
        <strong>Note:</strong> This structure mirrors Microsoft Learn‚Äôs doc layout (breadcrumb, left TOC, right in-page nav, callouts, and prev/next). Fill your own content and links.
      </div>

      <!-- STEP 1 -->
      <section class="step" id="step-1">
        <h2>Create a new project</h2>
        <p>Open your IDE and create a new ‚ÄúConsole App‚Äù project. Choose a name and location, then confirm.</p>
        <ol>
          <li>Open <em>File ‚Üí New ‚Üí Project</em>.</li>
          <li>Select the <em>Console App</em> template.</li>
          <li>Name it <code>HelloWorld</code> and click <em>Create</em>.</li>
        </ol>
        <div class="callout tip" role="note">
          <strong>Tip:</strong> If you prefer a GUI walkthrough, structure your steps as concise bullet points and add one clear image per step.
        </div>
        <pre><code>// main.cpp
#include &lt;iostream&gt;
int main(){
  std::cout &lt;&lt; "Hello, course template!" &lt;&lt; std::endl;
  return 0;
}
</code></pre>
      </section>

      <!-- STEP 2 -->
      <section class="step" id="step-2">
        <h2>Build &amp; run</h2>
        <p>Build the solution, then run the app. You should see your message in a terminal window.</p>
        <div class="callout warn" role="alert">
          <strong>Warning:</strong> If the build fails, verify your compiler/toolchain is installed and your project type matches your target platform.
        </div>
      </section>

      <!-- STEP 3 -->
      <section class="step" id="step-3">
        <h2>Next steps</h2>
        <ul>
          <li>Add command-line args.</li>
          <li>Split code into headers and source files.</li>
          <li>Write your first unit test.</li>
        </ul>
      </section>

      <!-- Bottom nav + feedback -->
      <div class="lesson-nav" aria-label="Lesson navigation">
        <a class="btn" href="course-overview.html" rel="prev">‚Üê Previous: Overview</a>
        <div class="feedback" aria-label="Feedback">
          Was this helpful?
          <button type="button" data-fb="yes">Yes</button>
          <button type="button" data-fb="no">No</button>
        </div>
        <a class="btn" href="step-2.html" rel="next">Next: Build &amp; Run ‚Üí</a>
      </div>
    </main>

    <!-- RIGHT: In-page nav -->
    <aside class="rail" aria-label="On this page">
      <h3>On this page</h3>
      <nav class="onpage" id="onpageNav">
        <!-- JS will build links to #step-1, #step-2, etc. -->
      </nav>
    </aside>
  </div>

  <script>
    (function(){
      // Theme toggle (no redeclared vars)
      const themeBtn = document.getElementById('themeBtn');
      const root = document.documentElement;
      const THEME_KEY = 'course-theme';
      function applyTheme(mode){
        if(mode === 'light'){ root.style.colorScheme = 'light'; document.body.dataset.theme='light'; }
        else if(mode === 'dark'){ root.style.colorScheme = 'dark'; document.body.dataset.theme='dark'; }
        else { root.style.colorScheme = 'normal'; delete document.body.dataset.theme; }
      }
      const saved = localStorage.getItem(THEME_KEY);
      if(saved) applyTheme(saved);
      themeBtn.addEventListener('click', ()=>{
        const current = document.body.dataset.theme || 'system';
        const next = current === 'dark' ? 'light' : current === 'light' ? 'system' : 'dark';
        localStorage.setItem(THEME_KEY, next);
        applyTheme(next);
        themeBtn.setAttribute('aria-pressed', next === 'dark' || next === 'light' ? 'true':'false');
      });

      // Build right-rail "On this page" from h2/h3
      const onpage = document.getElementById('onpageNav');
      const headings = Array.from(document.querySelectorAll('.main h2, .main h3'));
      const ul = document.createElement('ul');
      headings.forEach(h=>{
        if(!h.id){ h.id = h.textContent.trim().toLowerCase().replace(/\s+/g,'-').replace(/[^a-z0-9\-]/g,''); }
        const li = document.createElement('li');
        if(h.tagName==='H3'){ li.style.marginLeft = '1rem'; }
        const a = document.createElement('a'); a.href = '#'+h.id; a.textContent = h.textContent;
        li.appendChild(a); ul.appendChild(li);
      });
      onpage.appendChild(ul);

      // Activate left TOC item on scroll
      const tocLinks = Array.from(document.querySelectorAll('.toc a[href^="#"]'));
      const observeTargets = Array.from(document.querySelectorAll('.step'));
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            const id = '#'+entry.target.id;
            tocLinks.forEach(a=> a.classList.toggle('active', a.getAttribute('href')===id));
          }
        });
      }, { rootMargin: '0px 0px -70% 0px', threshold: 0.1 });
      observeTargets.forEach(el=> obs.observe(el));

      // Mobile drawer
      const drawer = document.getElementById('drawer');
      const menuBtn = document.getElementById('menuBtn');
      const closeDrawer = document.getElementById('closeDrawer');
      function openDrawer(){ drawer.classList.add('open'); drawer.setAttribute('aria-hidden','false'); }
      function shutDrawer(){ drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true'); }
      menuBtn.addEventListener('click', openDrawer);
      closeDrawer.addEventListener('click', shutDrawer);
      drawer.addEventListener('click', (e)=>{ if(e.target===drawer) shutDrawer(); });

      // Feedback demo
      document.querySelectorAll('.feedback button').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const val = btn.dataset.fb;
          alert(`Thanks for the ${val === 'yes' ? 'positive' : 'constructive'} feedback!`);
        });
      });
    })();
  </script>
</body>
</html>
